import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import { Pagination } from '../src/Pagination';
import readMe from '../README.md';

<Meta
  title="Pagination"
  component={ Pagination }
  parameters={ {
    chromatic: { viewports: [640, 480] },
    description: 'Component to enable navigating a long list of results.',
    jest: ['Pagination'],
    notes: readMe
  } }
/>

# Pagination

A component for navigating a long list of results.

<Preview withToolbar>
  <Story name="Pagination">
    <Pagination
      results="249"
      resultsPerPage="25"
      page="3"
    />
  </Story>
</Preview>

<Props of={ Pagination } />

Design so you don’t need pagination as it hides content from the user. It can display a lot of unhelpful information
that gets in the way to what the users are looking for. This may indicate the design isn’t working.

You can avoid pagination by:

- setting the default number of results per page (try 50 items per page, although do test with users to get it right for that service)
- avoid infinite scrolling as this is problematic for keyboard-only users

Consider what the sorting order should be to make the search more relevant. The more specific it is to the user's search criteria,
the better the search results.

## How it works

### Standard pagination

<Preview>
  <Story name="Standard">
    <Pagination
      results="20"
      resultsPerPage="5"
      page="3"
    >
      {[
        1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
      ].map((c) => {
        return <div id={`${c.toString()}`}>{c}</div>;
      })}
    </Pagination>
  </Story>
</Preview>

### Start of pagination

Display the first page of results.

<Preview>
  <Story name="Start">
    <Pagination
      results="20"
      resultsPerPage="5"
      page="1"
    >
      {[
        1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
      ].map((c) => {
        return <div id={`${c.toString()}`}>{c}</div>;
      })}
    </Pagination>
  </Story>
</Preview>


### Middle of pagination

Show the middle of the results.

<Preview>
  <Story name="Middle">
    <Pagination
      results="30"
      resultsPerPage="5"
      page="3"
    >
      {[
        1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
        21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
      ].map((c) => {
        return <div id={`${c.toString()}`}>{c}</div>;
      })}
    </Pagination>
  </Story>
</Preview>


### End of pagination

Display the last page of results.

<Preview>
  <Story name="End">
    <Pagination
      results="30"
      resultsPerPage="5"
      page="6"
    />
      {[
        1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
        21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
      ].map((c) => {
        return <div id={`${c.toString()}`}>{c}</div>;
      })}
    </Pagination>
  </Story>
</Preview>


### Near end

Display the second to last page of results.

<Preview>
  <Story name="NrEnd">
    <Pagination
      results="30"
      resultsPerPage="5"
      page="5"
    />
      {[
        1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
        21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
      ].map((c) => {
        return <div id={`${c.toString()}`}>{c}</div>;
      })}
    </Pagination>
  </Story>
</Preview>


### Results per page

Display a different number of results per page.

<Preview>
  <Story name="ResultsPerPage">
    <Pagination
      results="30"
      resultsPerPage="7"
      page="5"
    />
      {[
        1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
        21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
      ].map((c) => {
        return <div id={`${c.toString()}`}>{c}</div>;
      })}
    </Pagination>
  </Story>
</Preview>


## Research

If your service uses this component, let us know of any insights you have on research.


## Accessibility

If you do require pagination, ensure that:

- there is good colour contrast
- the font size is legible
- large clickable hit areas are provided and are clearly spaced out
- the current page is clearly identified
- you set a maximum list of 5 pages
- you provide 'previous' and 'next' links. Don't rely on icons alone
